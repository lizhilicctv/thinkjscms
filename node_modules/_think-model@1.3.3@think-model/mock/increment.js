const mysql = require('think-model-mysql');
const Model = require('../src/model');

class IncrementModel extends Model {
  get relation() {
    return {
      user: Model.HAS_MANY
    };
  };
}

const model = new IncrementModel('increment', {
  handle: mysql,
  host: '127.0.0.1',
  port: '3306',
  database: 'test',
  user: 'root',
  password: 'root',
  prefix: 'test_',
  encoding: 'utf8mb4'
});

(async() => {
  try {
    const result = await model.where({id: 1}).increment('view_nums');
    console.log(result);
  } catch (e) {
    console.error(e);
  }
})();
